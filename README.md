# üöÄ BacklogAI

> **AI Backlog Generator for Product Teams**  
> *Turn product context and objectives into INVEST-ready, JIRA-syncable user stories with AI, market research, and prioritization.*

![Status](https://img.shields.io/badge/Status-In%20Development-yellow?style=for-the-badge)
![Tech](https://img.shields.io/badge/Stack-Python%20|%20FastAPI%20|%20Kotlin%20Multiplatform-blue?style=for-the-badge)
![AI](https://img.shields.io/badge/Powered%20By-OpenAI%20%2F%20Claude-green?style=for-the-badge)

---

## üßê What is BackLogAI?

Product Managers often struggle to balance competing demands from sales, engineering, and users. **BackLogAI** enforces a disciplined approach to backlog creation by combining context-driven inputs, market research, AI drafting, and INVEST validation. It ensures every story aligns with strategic business goals before it ever hits your JIRA board.

### üîé Keywords & Tags
`ai backlog management`, `jira story generator`, `product management ai`, `invest user stories`, `kotlin multiplatform`, `fastapi`, `market research automation`, `backlog prioritization`, `moscow prioritization`, `serpapi`

### The Golden Rule üèÜ
Every backlog item generated by this system answers three critical questions:
1.  **Why now?** (Urgency) ‚è∞
2.  **Why this?** (Value) üíé
3.  **Why us?** (Strategic Fit) üéØ

---

## üß† The 5 Pillars Methodology

BackLogAI prioritizes features based on a weighted score across five dimensions:

| Pillar | Focus | Key Question |
| :--- | :--- | :--- |
| **1. User Value** | ‚ù§Ô∏è Solving Pain Points | *"Will this feature actually be used and loved?"* |
| **2. Commercial Impact** | üí∞ Revenue & Deals | *"Does this help close deals or reduce churn this quarter?"* |
| **3. Strategic Horizon** | üî≠ Future Demand | *"Are we building for the market of 2027, or reacting to 2026?"* |
| **4. Competitive Positioning** | ‚öîÔ∏è Market Differentiation | *"Is this a catch-up feature or a differentiator?"* |
| **5. Technical Reality** | üõ†Ô∏è Feasibility & Debt | *"Is the technical 'price tag' worth the business value?"* |

---

## ‚öôÔ∏è How It Works (v2)

```mermaid
graph LR
    A[Context + Objective] --> B[Market Research]
    B --> C[Story Generation v2]
    C --> D[INVEST Validation]
    D -->|Warnings| C
    D --> E[Prioritization]
    E --> F[JIRA Sync]
    
    style A fill:#f9f,stroke:#333,stroke-width:2px
    style C fill:#bbf,stroke:#333,stroke-width:2px
    style F fill:#bfb,stroke:#333,stroke-width:2px
```

1.  **Input:** User provides **context + objective** and optional signals (persona, segment, constraints, metrics, competitors).
2.  **Process:**
    *   **Research:** SerpAPI pulls relevant market and competitor signals (cached + rate-limited).
    *   **Generation:** AI drafts stories (`As a... I want... So that...`) with `Given/When/Then` acceptance criteria.
    *   **Validation:** INVEST checks produce warnings and a quality score, with an optional revision pass.
    *   **Scoring:** Computes priority score + MoSCoW classification.
3.  **Output:**
    *   JIRA-ready description with research summary, NFRs, metrics, risks, and rollout plan.
    *   Direct sync to JIRA.
    *   Cross-platform UI (Android + iOS implemented).

---

## üîë Configuration & Setup

To run BackLogAI effectively, you need to configure external services in your `.env` file.

### 1. OpenAI API (Story Generation)
*   **Sign up/Login:** [OpenAI Platform](https://platform.openai.com/)
*   **Create Key:** Go to [API Keys](https://platform.openai.com/api-keys) -> **Create new secret key**.
*   **Set Env:** `OPENAI_API_KEY=sk-...`
*   *Note: If you have issues logging in, try accessing [platform.openai.com](https://platform.openai.com) directly instead of auth subdomains.*

### 2. SerpAPI (Market Research)
*   **Sign up:** [SerpAPI](https://serpapi.com/)
*   **Free tier:** 250 searches/month
*   **Set Env:** `SERPAPI_API_KEY=...`

### 3. JIRA Integration (Sync)
*   **URL:** Your Atlassian domain (e.g., `https://your-domain.atlassian.net`).
*   **Username:** Your Atlassian email address.
*   **API Token:** Go to [Atlassian Security](https://id.atlassian.com/manage-profile/security/api-tokens) -> **Create API token**.
*   **Set Env:**
    ```properties
    JIRA_URL=https://your-domain.atlassian.net
    JIRA_USERNAME=your.email@example.com
    JIRA_API_TOKEN=your_api_token
    JIRA_PROJECT_KEY=KAN
    ```

### 4. Mobile App Integration (Client - Android/ iOS/ macOS/ Windows)
*   **Supported Clients:** Android, iOS, macOS Desktop and Windows (Upcoming).
*   **Backend Requirement:** BacklogAI API must be running and reachable from the client platform.
*   **Base URL Guidance + Demo Links:**
    - **Android Emulator:** `http://10.0.2.2:<backend-port>`  
      Demo: [`demo/android-e2e-v2/`](./demo/android-e2e-v2/)
    - **iOS Simulator:** `http://localhost:<backend-port>`  
      Demo: [`demo/ios-e2e-v2/`](./demo/ios-e2e-v2/)
    - **macOS Desktop:** `http://localhost:<backend-port>`  
      Demo: [`demo/macos-e2e-v2/`](./demo/macos-e2e-v2/)
    - **Windows Desktop (Planned):** `http://<backend-host>:<backend-port>` (same network or public tunnel)
*   **Quick Verification:**
    - Health check: `GET /health`
    - Generation check: `POST /backlog/generate/v2`

### 5. Slack Integration (Client Channel)
*   **Integration Model:** Slack works as an additional client channel, allowing users to submit inputs, review Story Preview, and trigger Jira sync directly from Slack.
*   **Business Value:** This reduces context switching and enables backlog collaboration where teams already communicate.
*   **Setup Summary:**
    - Create a Slack app with **Slash Commands** + **Interactivity** and scopes `chat:write`, `commands` (optional: `channels:history`, `users:read`).
    - Configure callback endpoints:
      - Slash command: `https://<public-backlogai-host>/slack/commands`
      - Interactivity: `https://<public-backlogai-host>/slack/interactions`
    - Keep connectivity secure with tunnel + Zero Trust policies and Slack bypass rules for Jira Slack endpoints.
    - Keep Jira linked using the public Jira base URL.
*   **Set Env:**
    ```properties
    SLACK_BOT_TOKEN=xoxb-...
    SLACK_SIGNING_SECRET=...
    SLACK_INTEGRATION_ENABLED=true
    ```
*   **Runtime Flow:** `/backlogai` -> input modal -> Story Preview -> **Sync to JIRA** -> Jira key + URL posted to Slack.

---

## üèóÔ∏è Architecture & Tech Stack

See [ARCHITECTURE.md](./ARCHITECTURE.md) for detailed system design.

| Layer | Stack |
| --- | --- |
| Backend API | Python 3.11+, FastAPI, Uvicorn |
| AI & Research | OpenAI API, SerpAPI (market search) |
| Backlog Logic | INVEST quality checks, MoSCoW prioritization, story decomposition |
| Integrations | Jira REST API, Slack Web API + interactive webhooks, SMTP-compatible notification workflow |
| Client Apps | Kotlin Multiplatform + Compose (Android, iOS, macOS Desktop, Windows Upcoming) |
| Build & Delivery | Gradle, Docker, GitHub, Cloudflare Tunnel (`cloudflared`) |

## üó∫Ô∏è Roadmap

See [IMPLEMENTATION_PLAN.md](./IMPLEMENTATION_PLAN.md) for the phased development plan.

---

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
